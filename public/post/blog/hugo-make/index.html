<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    
    <title>
      
       - 李绍俊 - 技术博客
      
		</title>

    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <link rel="stylesheet" type="text/css" href="/assets/css/normalize.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/icons.css" />
    <link rel="stylesheet" type="text/css" href="/assets/css/screen.css" />
    
    <link href="https://fonts.loli.net/css?family=Bree+Serif|Lato:100,100i,300,300i,400,400i,700,700i|Source+Code+Pro:300,400,500,700" rel="stylesheet">
    

    
    <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
    <script type="text/javascript" src="/assets/bigfoot/dist/bigfoot.js"></script>
    <link rel="stylesheet" type="text/css" href="/assets/bigfoot/dist/bigfoot-number.css" />
    <script type="text/javascript">
        $.bigfoot();
    </script>
    
    
</head>

    <body class="post-template">
        <header class="main-header">
	<div class="main-header-content">
		<h1 class="blog-title">
			<a href="/">
				
           李绍俊 - 技术博客
				
			</a>
		</h1>
		<h2 class="blog-description">李绍俊 - 技术博客</h2>
	</div>

	<div class="nav">
    
		
      <a class="nav- " role="presentation" href="/post/migrate-from-jekyll/">Migrating from Jekyll</a>
		
      <a class="nav- nav-current" role="presentation" href="/post/blog/hugo-make/"></a>
		
      <a class="nav- " role="presentation" href="/about/">About Hugo</a>
		
      <a class="nav- " role="presentation" href="/post/hugoisforlovers/">Getting Started</a>
		
	</div>
</header>

        
<main class="content" role="main">
  <article class="post">
    <header class="post-header">
      
      <h2 class="post-title"></h2>
      <section class="post-meta">
        <time class="post-date">2019-10-23</time>
      </section>
    </header>
    <section class="post-content">
      

<h1 id="使用hugo搭建个人博客">使用HUGO搭建个人博客</h1>

<p><a href="https://gohugo.io/">Hugo</a>是一个用Go编写的静态站点生成器，由于具有丰富的主题资源和惊人的生成速度而备受青睐。本博客即是基于Hugo搭建，下面讲述一下我的建站历程以及踩的几个大坑（此处手动Doge…）。</p>

<h2 id="安装hugo以及生成第一篇文章">安装Hugo以及生成第一篇文章</h2>

<h3 id="安装hugo">安装Hugo</h3>

<p>如果你是<code>macOS</code>用户，请使用<code>Homebrew</code>快速安装</p>

<pre><code class="language-shell">brew install hugo
1
</code></pre>

<p>如果你是<code>Windows</code>用户，请使用<code>Chocolatey</code>或者<code>Scoop</code>快速安装，取决于你使用什么包管理</p>

<pre><code class="language-shell">choco install hugo -confirm
1
scoop install hugo
1
</code></pre>

<p>如果你是<code>Debian</code>或<code>Ubuntu</code>用户，请使用<code>apt</code>快速安装</p>

<pre><code class="language-shell">sudo apt-get install hugo
1
</code></pre>

<p>基本上使用单行命令都可以成功安装Hugo，具体请移步<a href="https://gohugo.io/getting-started/installing">这里</a>。</p>

<h3 id="生成文章">生成文章</h3>

<p>使用如下命令新建一个名为“mysite”的网站：</p>

<pre><code class="language-shell">hugo new site mysite
1
</code></pre>

<p>接下来，在<a href="https://themes.gohugo.io/">这里</a>找到一个漂亮的网站主题。相信我，Hugo的主题海洋会让你纠结到死……经过一番激烈的挣扎，我最终还是投靠给了<a href="https://themes.gohugo.io/casper/">Casper</a>，没有什么能比一张大图占据整个屏幕带来的冲击感更强了……（说不定过段时间我又折腾着换别的主题了……）。言归正传，以Casper为例，将主题<code>clone</code>到本地的<code>themes</code>文件夹内，执行以下两句即可：</p>

<pre><code class="language-shell">cd themes
git clone https://github.com/vjeantet/hugo-theme-casper.git casper
12
</code></pre>

<p><code>mysite/content</code>是用来存放文档的地方，我们在其下建立一个新的<code>Markdown</code>文件：</p>

<pre><code class="language-shell">hugo new post/first.md
1
</code></pre>

<p>在<code>first.md</code>中写入一些内容，使用如下命令进行本地预览：</p>

<pre><code class="language-shell">hugo server -t casper -D
1
</code></pre>

<p>几乎瞬间编译成功，打开网址 <a href="http://localhost:1313/">http://localhost:1313/</a> 即可查看本地生成的静态网站。</p>

<h2 id="适配主题">适配主题</h2>

<p>Hugo的每个主题都会有不同的参数配置，而这些配置被存放在根目录下的<code>config.toml</code>文件中，对于<code>Casper</code>主题，<a href="https://github.com/vjeantet/hugo-theme-casper">官方的GitHub</a>中已经对此作了说明，以下是我的配置：</p>

<pre><code>BaseUrl= &quot;https://shanetian.github.io/&quot;
LanguageCode= &quot;zh-cn&quot;
Title= &quot;I am thinking ...&quot;
theme = &quot;casper&quot;
paginate = 5
DisqusShortname = &quot;suixin-1&quot;  # name in comments
Copyright = &quot;All rights reserved - 2018&quot;
canonifyurls = true

[params]
  description = &quot;路在脚下，心向远方&quot;
  metadescription = &quot;Used as 'description' meta tag for both home and index pages. If not set, 'description' will be used instead&quot;
  cover = &quot;images/boy_bicycle.jpg&quot;
  author = &quot;SuiXin&quot;
  authorlocation = &quot;Chengdu, China&quot;
  authorwebsite = &quot;suixinblog.cn&quot;
  authorbio= &quot;Every man dies, not every man really lives.&quot;
  logo = &quot;images/bird.png&quot;
  # googleAnalyticsUserID = &quot;UA-79101-12&quot;
  # Optional RSS-Link, if not provided it defaults to the standard index.xml
  # RSSLink = &quot;http://feeds.feedburner.com/...&quot;
  githubName = &quot;ShaneTian&quot;
  email = &quot;tianxinyqq@163.com&quot;
  twitterName = &quot;ShaneTian6&quot;
  # facebookName = &quot;&quot;
  # codepenName = &quot;&quot;
  # linkedinName = &quot;&quot;
  # stackoverflowId = &quot;&quot;
  # keybaseName = &quot;&quot;
  # flickrName = &quot;&quot;
  # instagramName = &quot;&quot;
  # pinterestName = &quot;&quot;
  # googlePlusName = &quot;&quot;
  # set true if you are not proud of using Hugo (true will hide the footer note &quot;Proudly published with HUGO.....&quot;)
  hideHUGOSupport = false

  # Setting a value will load highlight.js and enable syntax highlighting using the style selected.
  # See https://github.com/isagalaev/highlight.js/tree/master/src/styles for available styles
  # A preview of above styles can be viewed at https://highlightjs.org/static/demo/
  hjsStyle = &quot;atom-one-light&quot;

  [params.social]
    twitter = &quot;ShaneTian6&quot;

[[menu.main]]
  name = &quot;Home&quot;
  weight = -1
  identifier = &quot;blog&quot;
  url = &quot;/&quot;

[[menu.main]]
  name = &quot;Machine Learning&quot;
  weight = -2
  identifier = &quot;ml&quot;
  url = &quot;/tags/machine-learning&quot;

[[menu.main]]
  name = &quot;Others&quot;
  weight = -3
  identifier = &quot;other&quot;
  url = &quot;/tags/others&quot;

[[menu.main]]
  name = &quot;About&quot;
  weight = -4
  identifier = &quot;about&quot;
  url = &quot;/about&quot;

  [permalinks]
  post = &quot;/:year/:month/:day/:title/&quot;
12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970
</code></pre>

<h2 id="文章内的配置">文章内的配置</h2>

<p>使用命令<code>hugo new post/***.md</code>新建<code>Markdown</code>文件之后，文章开头会有默认的被<code>+++</code>包住的内容，这些内容即是该文章的配置。在<code>/mysite/archetypes/default.md</code>中可修改默认的配置。以下为我的默认配置：</p>

<pre><code>+++
title = &quot;{{ replace .Name &quot;-&quot; &quot; &quot; | title }}&quot;  # 文章标题
date = {{ .Date }}  # 自动添加日期信息
draft = true  # 设为false可被编译为HTML，true供本地修改
tags = [&quot;&quot;]  # 文章标签，可设置多个，用逗号隔开。Hugo会自动生成标签的子URL
comments = true  # 是否开启Disqus评论功能
share = true  # 是否开启分享
+++
12345678
</code></pre>

<h2 id="代码着色">代码着色</h2>

<p><code>Casper</code>主题在<code>config.toml</code>文件中的<code>hjsStyle</code>选项提供了<code>highlight.js</code>的代码着色。所有的代码主题和支持的语言可在<a href="https://highlightjs.org/static/demo/">这里</a>看到。
但在实际的配置中更改配置选项发现并没有更改代码的颜色……我……
经历了一番数不清的Google之后发现，<code>Casper</code>主题的内置<code>HTML</code>文件设置的<code>highlight.js</code>版本为9.8.0，而现在的<code>highlight.js</code>已经更新到9.12.0，故只需修改<code>/mysite/themes/casper/layouts/partials/header.html</code>中几行代码为9.12.0即可：</p>

<pre><code class="language-html">{{ if .Site.Params.hjsStyle }}
    &lt;link rel=&quot;stylesheet&quot; href=&quot;//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/{{ .Site.Params.hjsStyle }}.min.css&quot;&gt;
    &lt;script src=&quot;//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js&quot;&gt;&lt;/script&gt;
    {{ if or .Site.Params.hjsExtraLanguages .Params.hjsExtraLanguages }}
        {{ range $index, $language := (union .Site.Params.hjsExtraLanguages .Params.hjsExtraLanguages) }}
            &lt;script src=&quot;//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/{{ $language }}.min.js&quot;&gt;&lt;/script&gt;
        {{ end }}
    {{ end }}
    &lt;script&gt;hljs.initHighlightingOnLoad();&lt;/script&gt;
{{end}}
1234567891012345678910
</code></pre>

<h2 id="关于图片">关于图片</h2>

<p><code>Casper</code>主题需要设置一个封面图和一个作者头像，选好图片放置在<code>/static/images</code>并在<code>/config.toml</code>设置即可。
关于浏览器的小图标<code>favicon</code>
<img src="hugo%E5%BB%BA%E7%AB%99.assets/006tNbRwly1fvimvpcx7dj30do02g74a.jpg" alt="img" />
可将喜欢的照片在<a href="https://realfavicongenerator.net/">该网站</a>生成各种分辨率的<code>.ico</code>文件，将其命名为<code>favicon.ico</code>同样放置在<code>/static/images</code>即可。<code>apple-touch-icon</code>同理。</p>

<h2 id="发布网站到github-pages">发布网站到GitHub Pages</h2>

<p>在使用<code>hugo server -D</code>预览网站无误后可正式发布网站到域名供大家浏览。将要发布的文章内<code>draft</code>改为<code>false</code>后执行命令</p>

<pre><code class="language-shell">hugo
1
</code></pre>

<p>可看到根目录下多出<code>/public</code>文件夹出来，该文件夹的内容即Hugo生成的整个静态网站。最终我们需要把这些静态网站的文件部署到一个地方，免费且稳定的GitHub Pages是一个很好的选择。具体操作如下：</p>

<ol>
<li>在GitHub新建一个Repository命名为<code>ShaneTian.github.io</code>，其中<code>ShaneTian</code>改成自己的GitHub账户名；</li>
<li>在<code>/mysite</code>外建立一个平行的文件夹，此处假设也命名为<code>/ShaneTian.github.io</code>；</li>
<li>进入<code>/public</code>文件夹将内容复制到<code>/ShaneTian.github.io</code>；</li>
<li>将<code>/ShaneTian.github.io</code>的内容<code>push</code>到远程仓库。</li>
</ol>

<p>以上命令可在命令行通过以下语句实现：</p>

<pre><code class="language-shell">mkdir ShaneTian.github.io
cd mysite/public
cp -r . ../../ShaneTian.github.io
cd ../../ShaneTian.github.io
git init
git add .
git commit -m &quot;commit message&quot;
git remote add origin https://github.com/ShaneTian/ShaneTian.github.io.git
git push -u origin master
123456789
</code></pre>

<p>完成以上命令后，等待一分钟左右即可在 <a href="https://shanetian.github.io/">https://shanetian.github.io/</a> 访问你的网站。
以后每次更新文章后只用将生成的<code>/public</code>文件夹的静态网站内容复制到<code>/ShaneTian.github.io</code>，然后再<code>push</code>到远程仓库即可。也可将步骤写为<code>Shell</code>脚本，此处不再赘述。</p>

<h2 id="使用自己的域名">使用自己的域名</h2>

<p>当然，GitHub的域名怎么能满足装*的心理，这时可以将网站设置为自己的域名。购买域名的地方很多，如国外知名网站<a href="https://sg.godaddy.com/zh/">GoDaddy</a>，简体中文页面、支持支付宝付款、不用备案等都带来了很多方便。我的域名<a href="https://suixinblog.cn/">suixinblog.cn</a>即是在此购买。购买域名后完成下面两步即可访问自己的域名：</p>

<ol>
<li>在上面存放静态网站的Repository设置里面Custom domain填上自己的域名点击save；</li>

<li><p>执行以下语句获得自己的GitHub Pages的IP：</p>

<pre><code class="language-shell">ping shanetian.github.io
1
</code></pre></li>
</ol>

<p>即可得到下面的IP地址：
<img src="hugo%E5%BB%BA%E7%AB%99.assets/006tNc79ly1fvmz2x6huhj30zq04ytbn.jpg" alt="img" />
\3. 在域名提供商的网站配置DNS即可，以Godaddy为例配置两条记录如下：
<img src="hugo%E5%BB%BA%E7%AB%99.assets/006tNc79ly1fvmz5res74j31ic0nqtbg.jpg" alt="img" />
\4. 可以在GitHub Pages设置强制https协议，这样你的网站就有安全锁啦～
<img src="hugo%E5%BB%BA%E7%AB%99.assets/006tNc79ly1fvmzc3x3wtj315m0y2jx9.jpg" alt="img" />
<img src="hugo%E5%BB%BA%E7%AB%99.assets/006tNc79ly1fvmzdi2rllj309o01wjrf.jpg" alt="img" /></p>

<p>大功告成！快去访问你的域名吧！
<strong>Tips</strong>：
另外一款好看的Hugo主题：<a href="https://github.com/laozhu/hugo-nuo">hugo-nuo</a></p>

    </section>
    <footer class="post-footer">
      <section class="tags post-meta">
        Tagged
        <a href="https://example.org/tags/hugo/">hugo</a>
          <a href="https://example.org/tags/%E5%BB%BA%E7%AB%99/">建站</a>
          <a href="https://example.org/tags/blog/">blog</a>
          <a href="https://example.org/tags/go/">go</a>
          
      </section>
    </footer>
  </article>
</main>

        <footer class="site-footer">
  <section class="rss"><a class="subscribe-button icon-feed" href="/index.xml"></a></section>
  <section class="twitter"><a class="icon-twitter" href="https://twitter.com/example"> example</a></section>
  <section class="facebook"><a class="icon-facebook" href="https://www.facebook.com/example"> example</a></section>
  <section class="copyright">&copy; 2019 李绍俊 - 技术博客</section>
  <section class="poweredby"><a href="https://github.com/nirocfz/arabica">Arabica</a> theme by Sean Lunsford. Published with <a href="https://gohugo.io">Hugo</a>.</section>
</footer>



    </body>
</html>
